diff --git a/deps/sail-riscv/RV32/riscv.v b/deps/sail-riscv/RV32/riscv.v
index b68d88d..01ac2b1 100644
--- a/deps/sail-riscv/RV32/riscv.v
+++ b/deps/sail-riscv/RV32/riscv.v
@@ -1,9 +1,9 @@
 (*Generated by Sail from riscv.*)
 Require Import Sail.Base.
 Require Import Sail.Real.
-Require Import riscv_types.
-Require Import mem_metadata.
-Require Import riscv_extras.
+Require Import RV32.riscv_types.
+Require Import RV32.mem_metadata.
+Require Import RV32.riscv_extras.
 Import ListNotations.
 Open Scope string.
 Open Scope bool.
diff --git a/deps/sail-riscv/RV32/riscv_extras.v b/deps/sail-riscv/RV32/riscv_extras.v
index 4b069ec..e230545 100644
--- a/deps/sail-riscv/RV32/riscv_extras.v
+++ b/deps/sail-riscv/RV32/riscv_extras.v
@@ -1,6 +1,7 @@
 Require Import Sail.Base.
 Require Import String.
 Require Import List.
+Require Import Lia.
 Import List.ListNotations.
 Open Scope Z.

diff --git a/deps/sail-riscv/RV64/riscv.v b/deps/sail-riscv/RV64/riscv.v
index 5a7e9ad..cea4ed1 100644
--- a/deps/sail-riscv/RV64/riscv.v
+++ b/deps/sail-riscv/RV64/riscv.v
@@ -1,9 +1,9 @@
 (*Generated by Sail from riscv.*)
 Require Import Sail.Base.
 Require Import Sail.Real.
-Require Import riscv_types.
-Require Import mem_metadata.
-Require Import riscv_extras.
+Require Import RV64.riscv_types.
+Require Import RV64.mem_metadata.
+Require Import RV64.riscv_extras.
 Import ListNotations.
 Open Scope string.
 Open Scope bool.
diff --git a/deps/sail-riscv/RV64/riscv_extras.v b/deps/sail-riscv/RV64/riscv_extras.v
index 4b069ec..e230545 100644
--- a/deps/sail-riscv/RV64/riscv_extras.v
+++ b/deps/sail-riscv/RV64/riscv_extras.v
@@ -1,6 +1,7 @@
 Require Import Sail.Base.
 Require Import String.
 Require Import List.
+Require Import Lia.
 Import List.ListNotations.
 Open Scope Z.

diff --git a/deps/sail-riscv/build b/deps/sail-riscv/build
index 89d7601..c85341b 100755
--- a/deps/sail-riscv/build
+++ b/deps/sail-riscv/build
@@ -13,17 +13,17 @@ set -ex
 cd lib/sail
 make
 cd ../../RV32
-coqc $BBV_OPT -Q ../lib/sail Sail riscv_extras.v
-coqc $BBV_OPT -Q ../lib/sail Sail mem_metadata.v
-coqc $BBV_OPT -Q ../lib/sail Sail riscv_types.v
-coqc $BBV_OPT -Q ../lib/sail Sail riscv.v
+coqc $BBV_OPT -Q . RV32 -Q ../lib/sail Sail riscv_extras.v
+coqc $BBV_OPT -Q . RV32 -Q ../lib/sail Sail mem_metadata.v
+coqc $BBV_OPT -Q . RV32 -Q ../lib/sail Sail riscv_types.v
+coqc $BBV_OPT -Q . RV32 -Q ../lib/sail Sail riscv.v
 cd ../RV64
-coqc $BBV_OPT -Q ../lib/sail Sail riscv_extras.v
-coqc $BBV_OPT -Q ../lib/sail Sail mem_metadata.v
-coqc $BBV_OPT -Q ../lib/sail Sail riscv_types.v
-coqc $BBV_OPT -Q ../lib/sail Sail riscv.v
+coqc $BBV_OPT -Q . RV64 -Q ../lib/sail Sail riscv_extras.v
+coqc $BBV_OPT -Q . RV64 -Q ../lib/sail Sail mem_metadata.v
+coqc $BBV_OPT -Q . RV64 -Q ../lib/sail Sail riscv_types.v
+coqc $BBV_OPT -Q . RV64 -Q ../lib/sail Sail riscv.v
 cd ../duopod
-coqc $BBV_OPT -Q ../lib/sail Sail riscv_extras.v
-coqc $BBV_OPT -Q ../lib/sail Sail mem_metadata.v
-coqc $BBV_OPT -Q ../lib/sail Sail riscv_duopod_types.v
-coqc $BBV_OPT -Q ../lib/sail Sail riscv_duopod.v
+coqc $BBV_OPT -Q . RVduopod -Q ../lib/sail Sail riscv_extras.v
+coqc $BBV_OPT -Q . RVduopod -Q ../lib/sail Sail mem_metadata.v
+coqc $BBV_OPT -Q . RVduopod -Q ../lib/sail Sail riscv_duopod_types.v
+coqc $BBV_OPT -Q . RVduopod -Q ../lib/sail Sail riscv_duopod.v
diff --git a/deps/sail-riscv/duopod/riscv_duopod.v b/deps/sail-riscv/duopod/riscv_duopod.v
index bedca97..eaa9a0f 100644
--- a/deps/sail-riscv/duopod/riscv_duopod.v
+++ b/deps/sail-riscv/duopod/riscv_duopod.v
@@ -1,9 +1,9 @@
 (*Generated by Sail from riscv_duopod.*)
 Require Import Sail.Base.
 Require Import Sail.Real.
-Require Import riscv_duopod_types.
-Require Import mem_metadata.
-Require Import riscv_extras.
+Require Import RVduopod.riscv_duopod_types.
+Require Import RVduopod.mem_metadata.
+Require Import RVduopod.riscv_extras.
 Import ListNotations.
 Open Scope string.
 Open Scope bool.
diff --git a/deps/sail-riscv/duopod/riscv_extras.v b/deps/sail-riscv/duopod/riscv_extras.v
index 4b069ec..e230545 100644
--- a/deps/sail-riscv/duopod/riscv_extras.v
+++ b/deps/sail-riscv/duopod/riscv_extras.v
@@ -1,6 +1,7 @@
 Require Import Sail.Base.
 Require Import String.
 Require Import List.
+Require Import Lia.
 Import List.ListNotations.
 Open Scope Z.

diff --git a/deps/sail-riscv/lib/sail/Values.v b/deps/sail-riscv/lib/sail/Values.v
index e6fb212..fe0809d 100644
--- a/deps/sail-riscv/lib/sail/Values.v
+++ b/deps/sail-riscv/lib/sail/Values.v
@@ -999,7 +999,7 @@ match n with
   let bit : word (S n) := wlshift' (natToWord _ 1) i in
   let mask : word (S n) := wnot bit in
   let masked := wand mask w in
-  if b then masked else wor masked bit
+  if b then wor masked bit else masked
 end.

 (*val update_mword_bool_dec : forall 'a. mword 'a -> integer -> bool -> mword 'a*)
